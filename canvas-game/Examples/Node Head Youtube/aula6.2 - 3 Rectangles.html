<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas</title>
</head>
<body>

  <canvas id='canvas' style='border: 1px solid; width: 800px; height: 600px;'>
    Sorry, your browser does not support the canvas tag.
  </canvas>

  <script>

    // Cache a reference to the html element
    var canvas = document.getElementById('canvas');

    // Set the drawing surface dimensions to match the canvas
    canvas.width  = canvas.scrollWidth;
    canvas.height = canvas.scrollHeight;

    // Get a reference to the 2d drawing context / api
    var ctx = canvas.getContext('2d');

    // Array of rectangle objects to animate
    var rectangles = [
      {x: 0, y:   0, width: 100, height: 100, color: 'red',   speedX: 1},
      {x: 0, y: 100, width: 100, height: 100, color: 'green', speedX: 2},
      {x: 0, y: 200, width: 100, height: 100, color: 'blue',  speedX: 3}
    ];

    // Update loop
    function update(){

      // Clear the canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Set color for, draw, then move each rectangles
      rectangles.forEach(function(rectangle){
        ctx.fillStyle = rectangle.color;
        ctx.fillRect(rectangle.x, rectangle.y, rectangle.width, rectangle.height);
        rectangle.x += rectangle.speedX;
      });

      // Schedule the next update
      window.requestAnimationFrame(update);
    }

    // Call the first draw
    update();

  </script>

</body>
</html>